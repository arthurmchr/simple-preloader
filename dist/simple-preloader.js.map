{"version":3,"file":"generated.js","sources":["node_modules/browser-pack/_prelude.js","src/SimplePreloader.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","SimplePreloader","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"arguments","concurent","onComplete","onFileLoaded","onProgress","_classCallCheck","xhrFunc","bind","_concurent","_onComplete","_onFileLoaded","_onProgress","_queue","_group","_totalProgress","_totalSize","_inlineBlob","URL","createObjectURL","Blob","type","_createClass","key","value","Array","isArray","Symbol","iterator","next","done","addToQueue","url","id","split","pop","isLoading","totalSize","blobUrl","push","getHeaders","startDownload","getResult","XMLHttpRequest","open","onload","getResponseHeader","send","getGroupQueue","filter","filterByGroup","group","Worker","addEventListener","worker","postMessage","el","getElById","data","fileLoadedHandler","res","progress","terminate","event","getStatus","notStarted","notFinished","revokeObjectURL","stop","revoke","set"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const fs = require('fs');\n\nexport default class SimplePreloader {\n\n\tconstructor({\n\t\tconcurent = 6,\n\t\tonComplete = null,\n\t\tonFileLoaded = null,\n\t\tonProgress = null\n\t} = {}) {\n\n\t\tthis.xhrFunc = this.xhrFunc.bind(this);\n\n\t\tthis._concurent = concurent;\n\t\tthis._onComplete = onComplete;\n\t\tthis._onFileLoaded = onFileLoaded;\n\t\tthis._onProgress = onProgress;\n\n\t\tthis._queue = [];\n\t\tthis._group = null;\n\t\tthis._totalProgress = 0;\n\t\tthis._totalSize = 0;\n\n\t\tthis._inlineBlob = URL.createObjectURL(new Blob([fs.readFileSync(`${__dirname}/worker.js`, 'utf8')], {type: 'application/javascript'}));\n\t}\n\n\tadd(paths) {\n\n\t\tif (Array.isArray(paths)) {\n\n\t\t\tfor (const el of paths) {\n\n\t\t\t\tthis.addToQueue(el);\n\t\t\t}\n\t\t}\n\t\telse this.addToQueue(paths);\n\n\t\treturn this;\n\t}\n\n\taddToQueue(file) {\n\n\t\tlet item;\n\n\t\tif (typeof file === 'string') {\n\n\t\t\titem = {\n\t\t\t\turl: file\n\t\t\t};\n\t\t}\n\t\telse {\n\n\t\t\titem = file;\n\t\t}\n\n\t\tif (!item.id) item.id = item.url;\n\n\t\tif (!item.type) {\n\n\t\t\tconst ext = item.url.split('.');\n\t\t\titem.type = ext.length > 1 ? ext.pop() : null;\n\t\t}\n\n\t\titem.isLoading = false;\n\t\titem.totalSize = 0;\n\t\titem.blobUrl = null;\n\n\t\tthis._queue.push(item);\n\t}\n\n\tstart(cb, group) {\n\n\t\tif (cb) this._onComplete = cb;\n\n\t\tthis._group = group;\n\n\t\tthis.getHeaders(group);\n\n\t\tthis.startDownload(group);\n\t}\n\n\tisFileLoaded(file) {\n\n\t\tif (Array.isArray(file)) for (const el of file) if (!this.getResult(el.id || el.url || el)) return false;\n\n\t\tif (!this.getResult(file.id || file.url || file)) return false;\n\n\t\treturn true;\n\t}\n\n\tgetHeaders(group) {\n\n\t\tthis._totalSize = 0;\n\n\t\tfor (const el of this.getGroupQueue(group)) {\n\n\t\t\tif (el.blobUrl || el.totalSize) continue;\n\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open('HEAD', el.url);\n\n\t\t\txhr.onload = ()=> {\n\n\t\t\t\tel.totalSize = xhr.getResponseHeader('Content-Length');\n\t\t\t\tthis._totalSize += el.totalSize;\n\t\t\t};\n\n\t\t\txhr.send();\n\t\t}\n\t}\n\n\tgetGroupQueue(group) {\n\n\t\treturn group ? this._queue.filter(this.filterByGroup(group)) : this._queue;\n\t}\n\n\tfilterByGroup(group) {\n\n\t\treturn function(el) {\n\n\t\t\treturn el.group === group;\n\t\t};\n\t}\n\n\tstartDownload(group = null, limit = this._concurent) {\n\n\t\tconst newQueue = this.getGroupQueue(group);\n\t\tlet being = limit;\n\n\t\tfor (let i = 0; i < newQueue.length; i++) {\n\n\t\t\tconst el = newQueue[i];\n\n\t\t\tif (el.isLoading || el.blobUrl) continue;\n\n\t\t\tconst worker = new Worker(this._inlineBlob);\n\n\t\t\tworker.addEventListener('message', this.xhrFunc);\n\n\t\t\tel.isLoading = true;\n\t\t\tel.worker = worker;\n\n\t\t\tworker.postMessage({\n\t\t\t\ttype: 'start',\n\t\t\t\tel: {\n\t\t\t\t\tid: el.id,\n\t\t\t\t\turl: el.url,\n\t\t\t\t\ttype: el.type\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tbeing--;\n\n\t\t\tif (being === 0) return;\n\t\t}\n\t}\n\n\txhrFunc(event) {\n\n\t\tconst el = this.getElById(event.data.el.id);\n\n\t\tswitch (event.data.type) {\n\n\t\t\tcase 'onload':\n\t\t\t\tthis._totalProgress += el.totalSize;\n\t\t\t\tthis.fileLoadedHandler(event.data.res, el);\n\t\t\t\tbreak;\n\n\t\t\tcase 'onprogress':\n\n\t\t\t\tif (this._onProgress) this._onProgress(this._totalProgress + event.data.progress, this._totalSize);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tgetElById(id) {\n\n\t\tfor (const el of this._queue) if (el.id === id) return el;\n\t}\n\n\tfileLoadedHandler(res, el) {\n\n\t\tel.worker.terminate();\n\n\t\tel.isLoading = false;\n\n\t\tif (el.type === 'json') {\n\n\t\t\tel.blobUrl = event.data.res;\n\t\t}\n\t\telse {\n\n\t\t\tlet mimetype = '';\n\n\t\t\tswitch (el.type) {\n\n\t\t\t\tcase 'jpg':\n\t\t\t\t\tmimetype = 'image/jpeg';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'png':\n\t\t\t\t\tmimetype = 'image/png';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mp3':\n\t\t\t\t\tmimetype = 'audio/mpeg';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'webm':\n\t\t\t\t\tmimetype = 'video/webm';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mp4':\n\t\t\t\t\tmimetype = 'video/mp4';\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tel.blobUrl = URL.createObjectURL(new Blob([event.data.res], {type: mimetype}));\n\t\t}\n\n\t\tif (this._onFileLoaded) this._onFileLoaded(el);\n\n\t\tconst status = this.getStatus(this._group);\n\n\t\tif (status.notStarted) this.startDownload(this._group, 1);\n\t\telse if (status.notStarted === 0 && status.notFinished === 0 && this._onComplete) this._onComplete();\n\t}\n\n\tgetStatus(group) {\n\n\t\tlet notStarted = 0;\n\t\tlet notFinished = 0;\n\n\t\tfor (const el of this.getGroupQueue(group)) {\n\n\t\t\tif (!el.isLoading && !el.blobUrl) notStarted++;\n\t\t\telse if (el.isLoading) notFinished++;\n\t\t}\n\n\t\treturn {\n\t\t\tnotStarted,\n\t\t\tnotFinished\n\t\t};\n\t}\n\n\tstop() {\n\n\t\tfor (const el of this._queue) {\n\n\t\t\tif (el.isLoading) {\n\n\t\t\t\tel.worker.postMessage({\n\t\t\t\t\ttype: 'stop'\n\t\t\t\t});\n\n\t\t\t\tel.worker.terminate();\n\n\t\t\t\tel.isLoading = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetResult(id) {\n\n\t\treturn this.getElById(id).blobUrl;\n\t}\n\n\trevoke(id, group) {\n\n\t\tfor (const el of this._queue) {\n\n\t\t\t// if not the correct id or group\n\n\t\t\tif (id && el.id !== id || group && el.group !== group) continue;\n\n\t\t\t// if no blob or json typed\n\n\t\t\tif (!el.blobUrl || el.type === 'json') {\n\n\t\t\t\t// if id we stop loop\n\n\t\t\t\tif (id) return;\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (id) return window.URL.revokeObjectURL(el.blobUrl);\n\t\t\telse window.URL.revokeObjectURL(el.blobUrl);\n\t\t}\n\t}\n\n\tdestroy() {\n\n\t\tthis.stop();\n\t\tthis.revoke();\n\t}\n\n\tset onFileLoaded(fn) {\n\n\t\tthis._onFileLoaded = fn;\n\t}\n\n\tset onProgress(fn) {\n\n\t\tthis._onProgress = fn;\n\t}\n}\n"]}